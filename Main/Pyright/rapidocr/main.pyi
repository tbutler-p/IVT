"""
This type stub file was generated by pyright.
"""

import numpy as np
from pathlib import Path
from typing import Any, Dict, List, Optional, Tuple, Union
from .ch_ppocr_cls import TextClsOutput
from .ch_ppocr_det import TextDetOutput
from .ch_ppocr_rec import TextRecOutput
from .utils.output import RapidOCROutput

root_dir = ...
DEFAULT_CFG_PATH = ...
class RapidOCR:
    def __init__(self, config_path: Optional[str] = ..., params: Optional[Dict[str, Any]] = ...) -> None:
        ...
    
    def __call__(self, img_content: Union[str, np.ndarray, bytes, Path], use_det: Optional[bool] = ..., use_cls: Optional[bool] = ..., use_rec: Optional[bool] = ..., return_word_box: bool = ..., return_single_char_box: bool = ..., text_score: float = ..., box_thresh: float = ..., unclip_ratio: float = ...) -> Union[TextDetOutput, TextClsOutput, TextRecOutput, RapidOCROutput]:
        ...
    
    def run_ocr_steps(self, img: np.ndarray, op_record: Dict[str, Any]): # -> tuple[TextDetOutput, TextClsOutput, TextRecOutput, list[Any]] | tuple[TextDetOutput, TextClsOutput, TextRecOutput, List[ndarray[Any, Any]]]:
        ...
    
    def build_final_output(self, ori_img: np.ndarray, det_res: TextDetOutput, cls_res: TextClsOutput, rec_res: TextRecOutput, cropped_img_list: List[np.ndarray], op_record: Dict[str, Any]) -> Union[TextDetOutput, TextClsOutput, TextRecOutput, RapidOCROutput]:
        ...
    
    def calc_word_boxes(self, img: List[np.ndarray], dt_boxes: np.ndarray, rec_res: TextRecOutput, op_record: Dict[str, Any], raw_h: int, raw_w: int) -> Any:
        ...
    
    def update_params(self, use_det: Optional[bool] = ..., use_cls: Optional[bool] = ..., use_rec: Optional[bool] = ..., return_word_box: bool = ..., return_single_char_box: bool = ..., text_score: float = ..., box_thresh: float = ..., unclip_ratio: float = ...): # -> None:
        ...
    
    def preprocess_img(self, ori_img: np.ndarray) -> Tuple[np.ndarray, Dict[str, Any]]:
        ...
    
    def detect_and_crop(self, img: np.ndarray, op_record: Dict[str, Any]) -> Tuple[List[np.ndarray], TextDetOutput]:
        ...
    
    def crop_text_regions(self, img: np.ndarray, det_boxes: np.ndarray) -> List[np.ndarray]:
        ...
    
    def cls_and_rotate(self, img: List[np.ndarray]) -> Tuple[List[np.ndarray], TextClsOutput]:
        ...
    
    def recognize_txt(self, img: List[np.ndarray]) -> TextRecOutput:
        ...
    
    def filter_by_text_score(self, ocr_res: RapidOCROutput) -> RapidOCROutput:
        ...
    


class RapidOCRError(Exception):
    ...


def parse_args(arg_list: Optional[List[str]] = ...): # -> Namespace:
    ...

def main(arg_list: Optional[List[str]] = ...): # -> None:
    ...

if __name__ == "__main__":
    ...
