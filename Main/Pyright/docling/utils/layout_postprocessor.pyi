"""
This type stub file was generated by pyright.
"""

from docling_core.types.doc.page import TextCell
from docling.datamodel.base_models import BoundingBox, Cluster, Page
from docling.datamodel.pipeline_options import LayoutOptions

_log = ...
class UnionFind:
    """Efficient Union-Find data structure for grouping elements."""
    def __init__(self, elements) -> None:
        ...
    
    def find(self, x):
        ...
    
    def union(self, x, y): # -> None:
        ...
    
    def get_groups(self) -> dict[int, list[int]]:
        """Returns groups as {root: [elements]}."""
        ...
    


class SpatialClusterIndex:
    """Efficient spatial indexing for clusters using R-tree and interval trees."""
    def __init__(self, clusters: list[Cluster]) -> None:
        ...
    
    def add_cluster(self, cluster: Cluster): # -> None:
        ...
    
    def remove_cluster(self, cluster: Cluster): # -> None:
        ...
    
    def find_candidates(self, bbox: BoundingBox) -> set[int]:
        """Find potential overlapping cluster IDs using all indexes."""
        ...
    
    def check_overlap(self, bbox1: BoundingBox, bbox2: BoundingBox, overlap_threshold: float, containment_threshold: float) -> bool:
        """Check if two bboxes overlap sufficiently."""
        ...
    


class Interval:
    """Helper class for sortable intervals."""
    def __init__(self, min_val: float, max_val: float, id: int) -> None:
        ...
    
    def __lt__(self, other) -> bool:
        ...
    


class IntervalTree:
    """Memory-efficient interval tree for 1D overlap queries."""
    def __init__(self) -> None:
        ...
    
    def insert(self, min_val: float, max_val: float, id: int): # -> None:
        ...
    
    def find_containing(self, point: float) -> set[int]:
        """Find all intervals containing the point."""
        ...
    


class LayoutPostprocessor:
    """Postprocesses layout predictions by cleaning up clusters and mapping cells."""
    OVERLAP_PARAMS = ...
    WRAPPER_TYPES = ...
    SPECIAL_TYPES = ...
    CONFIDENCE_THRESHOLDS = ...
    LABEL_REMAPPING = ...
    def __init__(self, page: Page, clusters: list[Cluster], options: LayoutOptions) -> None:
        """Initialize processor with page and clusters."""
        ...
    
    def postprocess(self) -> tuple[list[Cluster], list[TextCell]]:
        """Main processing pipeline."""
        ...
    


