"""
This type stub file was generated by pyright.
"""

from pathlib import Path
from typing import Optional
from pydantic import BaseModel
from docling.backend.abstract_backend import AbstractDocumentBackend
from docling.datamodel.accelerator_options import AcceleratorOptions
from docling.datamodel.document import ConversionResult
from docling.datamodel.pipeline_options import AsrPipelineOptions
from docling.datamodel.pipeline_options_asr_model import InlineAsrMlxWhisperOptions, InlineAsrNativeWhisperOptions
from docling.pipeline.base_pipeline import BasePipeline

_log = ...
class _ConversationWord(BaseModel):
    text: str
    start_time: Optional[float] = ...
    end_time: Optional[float] = ...


class _ConversationItem(BaseModel):
    text: str
    start_time: Optional[float] = ...
    end_time: Optional[float] = ...
    speaker_id: Optional[int] = ...
    speaker: Optional[str] = ...
    words: Optional[list[_ConversationWord]] = ...
    def __lt__(self, other) -> bool:
        ...
    
    def __eq__(self, other) -> bool:
        ...
    
    def to_string(self) -> str:
        """Format the conversation entry as a string"""
        ...
    


class _NativeWhisperModel:
    def __init__(self, enabled: bool, artifacts_path: Optional[Path], accelerator_options: AcceleratorOptions, asr_options: InlineAsrNativeWhisperOptions) -> None:
        """
        Transcriber using native Whisper.
        """
        ...
    
    def run(self, conv_res: ConversionResult) -> ConversionResult:
        ...
    
    def transcribe(self, fpath: Path) -> list[_ConversationItem]:
        ...
    


class _MlxWhisperModel:
    def __init__(self, enabled: bool, artifacts_path: Optional[Path], accelerator_options: AcceleratorOptions, asr_options: InlineAsrMlxWhisperOptions) -> None:
        """
        Transcriber using MLX Whisper for Apple Silicon optimization.
        """
        ...
    
    def run(self, conv_res: ConversionResult) -> ConversionResult:
        ...
    
    def transcribe(self, fpath: Path) -> list[_ConversationItem]:
        """
        Transcribe audio using MLX Whisper.

        Args:
            fpath: Path to audio file

        Returns:
            List of conversation items with timestamps
        """
        ...
    


class AsrPipeline(BasePipeline):
    def __init__(self, pipeline_options: AsrPipelineOptions) -> None:
        ...
    
    @classmethod
    def get_default_options(cls) -> AsrPipelineOptions:
        ...
    
    @classmethod
    def is_backend_supported(cls, backend: AbstractDocumentBackend): # -> bool:
        ...
    


