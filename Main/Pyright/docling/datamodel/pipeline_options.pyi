"""
This type stub file was generated by pyright.
"""

from enum import Enum
from pathlib import Path
from typing import Any, ClassVar, Dict, List, Literal, Optional, Union
from pydantic import AnyUrl, BaseModel
from typing_extensions import deprecated
from docling.datamodel.accelerator_options import AcceleratorOptions
from docling.datamodel.layout_model_specs import LayoutModelConfig
from docling.datamodel.pipeline_options_asr_model import InlineAsrOptions
from docling.datamodel.pipeline_options_vlm_model import ApiVlmOptions, InlineVlmOptions

"""
This type stub file was generated by pyright.
"""
_log = ...
class BaseOptions(BaseModel):
    """Base class for options."""
    kind: ClassVar[str]
    ...


class TableFormerMode(str, Enum):
    """Modes for the TableFormer model."""
    FAST = ...
    ACCURATE = ...


class TableStructureOptions(BaseModel):
    """Options for the table structure."""
    do_cell_matching: bool = ...
    mode: TableFormerMode = ...


class OcrOptions(BaseOptions):
    """OCR options."""
    lang: List[str]
    force_full_page_ocr: bool = ...
    bitmap_area_threshold: float = ...


class OcrAutoOptions(OcrOptions):
    """Options for pick OCR engine automatically."""
    kind: ClassVar[Literal["auto"]] = ...
    lang: List[str] = ...


class RapidOcrOptions(OcrOptions):
    """Options for the RapidOCR engine."""
    kind: ClassVar[Literal["rapidocr"]] = ...
    lang: List[str] = ...
    backend: Literal["onnxruntime", "openvino", "paddle", "torch"] = ...
    text_score: float = ...
    use_det: Optional[bool] = ...
    use_cls: Optional[bool] = ...
    use_rec: Optional[bool] = ...
    print_verbose: bool = ...
    det_model_path: Optional[str] = ...
    cls_model_path: Optional[str] = ...
    rec_model_path: Optional[str] = ...
    rec_keys_path: Optional[str] = ...
    rec_font_path: Optional[str] = ...
    font_path: Optional[str] = ...
    rapidocr_params: Dict[str, Any] = ...
    model_config = ...


class EasyOcrOptions(OcrOptions):
    """Options for the EasyOCR engine."""
    kind: ClassVar[Literal["easyocr"]] = ...
    lang: List[str] = ...
    use_gpu: Optional[bool] = ...
    confidence_threshold: float = ...
    model_storage_directory: Optional[str] = ...
    recog_network: Optional[str] = ...
    download_enabled: bool = ...
    suppress_mps_warnings: bool = ...
    model_config = ...


class TesseractCliOcrOptions(OcrOptions):
    """Options for the TesseractCli engine."""
    kind: ClassVar[Literal["tesseract"]] = ...
    lang: List[str] = ...
    tesseract_cmd: str = ...
    path: Optional[str] = ...
    psm: Optional[int] = ...
    model_config = ...


class TesseractOcrOptions(OcrOptions):
    """Options for the Tesseract engine."""
    kind: ClassVar[Literal["tesserocr"]] = ...
    lang: List[str] = ...
    path: Optional[str] = ...
    psm: Optional[int] = ...
    model_config = ...


class OcrMacOptions(OcrOptions):
    """Options for the Mac OCR engine."""
    kind: ClassVar[Literal["ocrmac"]] = ...
    lang: List[str] = ...
    recognition: str = ...
    framework: str = ...
    model_config = ...


class PictureDescriptionBaseOptions(BaseOptions):
    batch_size: int = ...
    scale: float = ...
    picture_area_threshold: float = ...


class PictureDescriptionApiOptions(PictureDescriptionBaseOptions):
    kind: ClassVar[Literal["api"]] = ...
    url: AnyUrl = ...
    headers: Dict[str, str] = ...
    params: Dict[str, Any] = ...
    timeout: float = ...
    concurrency: int = ...
    prompt: str = ...
    provenance: str = ...


class PictureDescriptionVlmOptions(PictureDescriptionBaseOptions):
    kind: ClassVar[Literal["vlm"]] = ...
    repo_id: str
    prompt: str = ...
    generation_config: Dict[str, Any] = ...
    @property
    def repo_cache_folder(self) -> str:
        ...
    


smolvlm_picture_description = ...
granite_picture_description = ...
class PdfBackend(str, Enum):
    """Enum of valid PDF backends."""
    PYPDFIUM2 = ...
    DLPARSE_V1 = ...
    DLPARSE_V2 = ...
    DLPARSE_V4 = ...


@deprecated("Use get_ocr_factory().registered_kind to get a list of registered OCR engines.")
class OcrEngine(str, Enum):
    """Enum of valid OCR engines."""
    AUTO = ...
    EASYOCR = ...
    TESSERACT_CLI = ...
    TESSERACT = ...
    OCRMAC = ...
    RAPIDOCR = ...


class PipelineOptions(BaseOptions):
    """Base pipeline options."""
    document_timeout: Optional[float] = ...
    accelerator_options: AcceleratorOptions = ...
    enable_remote_services: bool = ...
    allow_external_plugins: bool = ...
    artifacts_path: Optional[Union[Path, str]] = ...


class ConvertPipelineOptions(PipelineOptions):
    """Base convert pipeline options."""
    do_picture_classification: bool = ...
    do_picture_description: bool = ...
    picture_description_options: PictureDescriptionBaseOptions = ...


class PaginatedPipelineOptions(ConvertPipelineOptions):
    images_scale: float = ...
    generate_page_images: bool = ...
    generate_picture_images: bool = ...


class VlmPipelineOptions(PaginatedPipelineOptions):
    generate_page_images: bool = ...
    force_backend_text: bool = ...
    vlm_options: Union[InlineVlmOptions, ApiVlmOptions] = ...


class LayoutOptions(BaseModel):
    """Options for layout processing."""
    create_orphan_clusters: bool = ...
    keep_empty_clusters: bool = ...
    model_spec: LayoutModelConfig = ...
    skip_cell_assignment: bool = ...


class AsrPipelineOptions(PipelineOptions):
    asr_options: Union[InlineAsrOptions] = ...


class VlmExtractionPipelineOptions(PipelineOptions):
    """Options for extraction pipeline."""
    vlm_options: Union[InlineVlmOptions] = ...


class PdfPipelineOptions(PaginatedPipelineOptions):
    """Options for the PDF pipeline."""
    do_table_structure: bool = ...
    do_ocr: bool = ...
    do_code_enrichment: bool = ...
    do_formula_enrichment: bool = ...
    force_backend_text: bool = ...
    table_structure_options: TableStructureOptions = ...
    ocr_options: OcrOptions = ...
    layout_options: LayoutOptions = ...
    images_scale: float = ...
    generate_page_images: bool = ...
    generate_picture_images: bool = ...
    generate_table_images: bool = ...
    generate_parsed_pages: bool = ...
    ocr_batch_size: int = ...
    layout_batch_size: int = ...
    table_batch_size: int = ...
    batch_polling_interval_seconds: float = ...
    queue_max_size: int = ...


class ProcessingPipeline(str, Enum):
    LEGACY = ...
    STANDARD = ...
    VLM = ...
    ASR = ...


class ThreadedPdfPipelineOptions(PdfPipelineOptions):
    """Pipeline options for the threaded PDF pipeline with batching and backpressure control"""
    ...


