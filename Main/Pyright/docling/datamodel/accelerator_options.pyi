"""
This type stub file was generated by pyright.
"""

from enum import Enum
from typing import Any, Union
from pydantic import field_validator, model_validator
from pydantic_settings import BaseSettings

"""
This type stub file was generated by pyright.
"""
_log = ...
class AcceleratorDevice(str, Enum):
    """Devices to run model inference"""
    AUTO = ...
    CPU = ...
    CUDA = ...
    MPS = ...


class AcceleratorOptions(BaseSettings):
    model_config = ...
    num_threads: int = ...
    device: Union[str, AcceleratorDevice] = ...
    cuda_use_flash_attention2: bool = ...
    @field_validator("device")
    def validate_device(cls, value):
        ...
    
    @model_validator(mode="before")
    @classmethod
    def check_alternative_envvars(cls, data: Any) -> Any:
        r"""
        Set num_threads from the "alternative" envvar OMP_NUM_THREADS.
        The alternative envvar is used only if it is valid and the regular envvar is not set.

        Notice: The standard pydantic settings mechanism with parameter "aliases" does not provide
        the same functionality. In case the alias envvar is set and the user tries to override the
        parameter in settings initialization, Pydantic treats the parameter provided in __init__()
        as an extra input instead of simply overwriting the evvar value for that parameter.
        """
        ...
    


