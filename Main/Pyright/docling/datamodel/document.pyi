"""
This type stub file was generated by pyright.
"""

from collections.abc import Iterable, Mapping
from enum import Enum
from io import BytesIO
from pathlib import Path, PurePath
from typing import Annotated, Optional, TYPE_CHECKING, Type, Union
from docling_core.types.doc import DoclingDocument
from pydantic import BaseModel, Field
from typing_extensions import deprecated
from docling.backend.abstract_backend import AbstractDocumentBackend
from docling.datamodel.backend_options import BackendOptions
from docling.datamodel.base_models import AssembledUnit, BaseFormatOption, ConfidenceReport, ConversionStatus, DocumentStream, ErrorItem, InputFormat, Page
from docling.datamodel.settings import DocumentLimits
from docling.utils.profiling import ProfilingItem

"""
This type stub file was generated by pyright.
"""
if TYPE_CHECKING:
    ...
_log = ...
layout_label_to_ds_type = ...
_EMPTY_DOCLING_DOC = ...
class InputDocument(BaseModel):
    """A document as an input of a Docling conversion."""
    file: Annotated[PurePath, Field(description="A path representation the input document.")]
    document_hash: Annotated[str, Field(description="A stable hash of the path or stream of the input document."),]
    valid: bool = ...
    backend_options: Optional[BackendOptions] = ...
    limits: DocumentLimits = ...
    format: Annotated[InputFormat, Field(description="The document format.")]
    filesize: Optional[int] = ...
    page_count: int = ...
    _backend: AbstractDocumentBackend
    def __init__(self, path_or_stream: Union[BytesIO, Path], format: InputFormat, backend: Type[AbstractDocumentBackend], backend_options: Optional[BackendOptions] = ..., filename: Optional[str] = ..., limits: Optional[DocumentLimits] = ...) -> None:
        ...
    


class DocumentFormat(str, Enum):
    V2 = ...
    V1 = ...


class ConversionResult(BaseModel):
    input: InputDocument
    status: ConversionStatus = ...
    errors: list[ErrorItem] = ...
    pages: list[Page] = ...
    assembled: AssembledUnit = ...
    timings: dict[str, ProfilingItem] = ...
    confidence: ConfidenceReport = ...
    document: DoclingDocument = ...
    @property
    @deprecated("Use document instead.")
    def legacy_document(self):
        ...
    


class _DummyBackend(AbstractDocumentBackend):
    def __init__(self, *args, **kwargs) -> None:
        ...
    
    def is_valid(self) -> bool:
        ...
    
    @classmethod
    def supported_formats(cls) -> set[InputFormat]:
        ...
    
    @classmethod
    def supports_pagination(cls) -> bool:
        ...
    
    def unload(self):
        ...
    


class _DocumentConversionInput(BaseModel):
    path_or_stream_iterator: Iterable[Union[Path, str, DocumentStream]]
    headers: Optional[dict[str, str]] = ...
    limits: Optional[DocumentLimits] = ...
    def docs(self, format_options: Mapping[InputFormat, BaseFormatOption]) -> Iterable[InputDocument]:
        ...
    


