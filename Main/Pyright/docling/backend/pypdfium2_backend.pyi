"""
This type stub file was generated by pyright.
"""

import pypdfium2 as pdfium
from collections.abc import Iterable
from io import BytesIO
from pathlib import Path
from typing import Optional, TYPE_CHECKING, Union
from docling_core.types.doc import BoundingBox, Size
from docling_core.types.doc.page import PdfPageBoundaryType, PdfPageGeometry, SegmentedPdfPage, TextCell
from PIL import Image
from docling.backend.pdf_backend import PdfDocumentBackend, PdfPageBackend
from docling.datamodel.backend_options import PdfBackendOptions
from docling.datamodel.document import InputDocument

def get_pdf_page_geometry(ppage: pdfium.PdfPage, angle: float = ..., boundary_type: PdfPageBoundaryType = ...) -> PdfPageGeometry:
    """
    Create PdfPageGeometry from a pypdfium2 PdfPage object.

    Args:
        ppage: pypdfium2 PdfPage object
        angle: Page rotation angle in degrees (default: 0.0)
        boundary_type: The boundary type for the page (default: CROP_BOX)

    Returns:
        PdfPageGeometry with all the different bounding boxes properly set
    """
    ...

if TYPE_CHECKING:
    ...
_log = ...
class PyPdfiumPageBackend(PdfPageBackend):
    def __init__(self, pdfium_doc: pdfium.PdfDocument, document_hash: str, page_no: int) -> None:
        ...
    
    def is_valid(self) -> bool:
        ...
    
    def get_bitmap_rects(self, scale: float = ...) -> Iterable[BoundingBox]:
        ...
    
    def get_text_in_rect(self, bbox: BoundingBox) -> str:
        ...
    
    def get_segmented_page(self) -> Optional[SegmentedPdfPage]:
        ...
    
    def get_text_cells(self) -> Iterable[TextCell]:
        ...
    
    def get_page_image(self, scale: float = ..., cropbox: Optional[BoundingBox] = ...) -> Image.Image:
        ...
    
    def get_size(self) -> Size:
        ...
    
    def unload(self): # -> None:
        ...
    


class PyPdfiumDocumentBackend(PdfDocumentBackend):
    def __init__(self, in_doc: InputDocument, path_or_stream: Union[BytesIO, Path], options: PdfBackendOptions = ...) -> None:
        ...
    
    def page_count(self) -> int:
        ...
    
    def load_page(self, page_no: int) -> PyPdfiumPageBackend:
        ...
    
    def is_valid(self) -> bool:
        ...
    
    def unload(self): # -> None:
        ...
    


