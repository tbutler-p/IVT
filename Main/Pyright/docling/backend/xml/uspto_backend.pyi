"""
This type stub file was generated by pyright.
"""

import xml.sax
from abc import ABC, abstractmethod
from enum import Enum, unique
from io import BytesIO
from pathlib import Path
from typing import Final, Optional, Union
from docling_core.types.doc import DoclingDocument, TableData, TextItem
from docling_core.types.doc.document import LevelNumber
from typing_extensions import Self, TypedDict, override
from docling.backend.abstract_backend import DeclarativeDocumentBackend
from docling.datamodel.base_models import InputFormat
from docling.datamodel.document import InputDocument

"""
This type stub file was generated by pyright.
"""
_log = ...
XML_DECLARATION: Final = ...
@unique
class PatentHeading(Enum):
    """Text of docling headings for tagged sections in USPTO patent documents."""
    ABSTRACT = ...
    CLAIMS = ...
    @override
    def __new__(cls, value: str, _) -> Self:
        ...
    
    @override
    def __init__(self, _, level: LevelNumber) -> None:
        ...
    


class PatentUsptoDocumentBackend(DeclarativeDocumentBackend):
    @override
    def __init__(self, in_doc: InputDocument, path_or_stream: Union[BytesIO, Path]) -> None:
        ...
    
    @override
    def is_valid(self) -> bool:
        ...
    
    @classmethod
    @override
    def supports_pagination(cls) -> bool:
        ...
    
    @override
    def unload(self) -> None:
        ...
    
    @classmethod
    @override
    def supported_formats(cls) -> set[InputFormat]:
        ...
    
    @override
    def convert(self) -> DoclingDocument:
        ...
    


class PatentUspto(ABC):
    """Parser of patent documents from the US Patent Office."""
    @abstractmethod
    def parse(self, patent_content: str) -> Optional[DoclingDocument]:
        """Parse a USPTO patent.

        Parameters:
            patent_content: The content of a single patent in a USPTO file.

        Returns:
            The patent parsed as a docling document.
        """
        ...
    


class PatentUsptoIce(PatentUspto):
    """Parser of patent documents from the US Patent Office (ICE).

    The compatible formats are:
    - Patent Grant Full Text Data/XML Version 4.x ICE (from January 2005)
    - Patent Application Full Text Data/XML Version 4.x ICE (from January 2005)
    """
    def __init__(self) -> None:
        """Build an instance of PatentUsptoIce class."""
        ...
    
    def parse(self, patent_content: str) -> Optional[DoclingDocument]:
        ...
    
    class PatentHandler(xml.sax.handler.ContentHandler):
        """SAX ContentHandler for patent documents."""
        APP_DOC_ELEMENT: Final = ...
        GRANT_DOC_ELEMENT: Final = ...
        @unique
        class Element(Enum):
            """Represents an element of interest in the patent application document."""
            ABSTRACT = ...
            TITLE = ...
            CLAIMS = ...
            CLAIM = ...
            CLAIM_TEXT = ...
            PARAGRAPH = ...
            HEADING = ...
            DESCRIPTION = ...
            TABLE = ...
            DRAWINGS = ...
            STYLE_SUPERSCRIPT = ...
            STYLE_SUBSCRIPT = ...
            MATHS = ...
            @override
            def __new__(cls, value: str, _) -> Self:
                ...
            
            @override
            def __init__(self, _, is_text: bool) -> None:
                ...
            
        
        
        @override
        def __init__(self) -> None:
            """Build an instance of the patent handler."""
            ...
        
        @override
        def startElement(self, tag, attributes):
            """Signal the start of an element.

            Args:
                tag: The element tag.
                attributes: The element attributes.
            """
            ...
        
        @override
        def skippedEntity(self, name):
            """Receive notification of a skipped entity.

            HTML entities will be skipped by the parser. This method will unescape them
            and add them to the text.

            Args:
                name: Entity name.
            """
            ...
        
        @override
        def endElement(self, tag):
            """Signal the end of an element.

            Args:
                tag: The element tag.
            """
            ...
        
        @override
        def characters(self, content):
            """Receive notification of character data.

            Args:
                content: Data reported by the handler.
            """
            ...
        
    
    


class PatentUsptoGrantV2(PatentUspto):
    """Parser of patent documents from the US Patent Office (grants v2.5).

    The compatible format is:
    - Patent Grant Full Text Data/XML Version 2.5 (from January 2002 till December 2004)
    """
    @override
    def __init__(self) -> None:
        """Build an instance of PatentUsptoGrantV2 class."""
        ...
    
    @override
    def parse(self, patent_content: str) -> Optional[DoclingDocument]:
        ...
    
    class PatentHandler(xml.sax.handler.ContentHandler):
        """SAX ContentHandler for patent documents."""
        GRANT_DOC_ELEMENT: Final = ...
        CLAIM_STATEMENT: Final = ...
        @unique
        class Element(Enum):
            """Represents an element of interest in the patent application document."""
            PDAT = ...
            ABSTRACT = ...
            SDOCL = ...
            TITLE = ...
            CLAIMS = ...
            CLAIM = ...
            PARAGRAPH = ...
            HEADING = ...
            DRAWINGS = ...
            STYLE_SUPERSCRIPT = ...
            STYLE_SUBSCRIPT = ...
            STYLE_ITALIC = ...
            CWU = ...
            TABLE = ...
            @override
            def __new__(cls, value: str, _) -> Self:
                ...
            
            @override
            def __init__(self, _, is_text: bool) -> None:
                ...
            
        
        
        @override
        def __init__(self) -> None:
            """Build an instance of the patent handler."""
            ...
        
        @override
        def startElement(self, tag, attributes):
            """Signal the start of an element.

            Args:
                tag: The element tag.
                attributes: The element attributes.
            """
            ...
        
        @override
        def skippedEntity(self, name):
            """Receive notification of a skipped entity.

            HTML entities will be skipped by the parser. This method will unescape them
            and add them to the text.

            Args:
                name: Entity name.
            """
            ...
        
        @override
        def endElement(self, tag):
            """Signal the end of an element.

            Args:
                tag: The element tag.
            """
            ...
        
        @override
        def characters(self, content):
            """Receive notification of character data.

            Args:
                content: Data reported by the handler.
            """
            ...
        
    
    


class PatentUsptoGrantAps(PatentUspto):
    """Parser of patents documents from the US Patent Office (grants APS).

    The compatible format is:
    - Patent Grant Full Text Data/APS (from January 1976 till December 2001)
    """
    @unique
    class Section(Enum):
        """Represent a section in a patent APS document."""
        ABSTRACT = ...
        SUMMARY = ...
        DETAILS = ...
        CLAIMS = ...
        DRAWINGS = ...
    
    
    @unique
    class Field(Enum):
        """Represent a field in a patent APS document."""
        DOC_NUMBER = ...
        TITLE = ...
        PARAGRAPH = ...
        PARAGRAPH_1 = ...
        PARAGRAPH_2 = ...
        PARAGRAPH_3 = ...
        TEXT = ...
        CAPTION = ...
        NUMBER = ...
        NAME = ...
        IPC = ...
        ISSUED = ...
        FILED = ...
        PATENT_NUMBER = ...
        APPLICATION_NUMBER = ...
        APPLICATION_TYPE = ...
        COUNTRY = ...
    
    
    @override
    def __init__(self) -> None:
        """Build an instance of PatentUsptoGrantAps class."""
        ...
    
    def get_last_text_item(self) -> Optional[TextItem]:
        """Get the last text item at the current document level.

        Returns:
            The text item or None, if the current level parent has no children."""
        ...
    
    def store_section(self, section: str) -> None:
        """Store the section heading in the docling document.

        Only the predefined sections from PatentHeading will be handled.
        The other sections are created by the Field.CAPTION field.

        Args:
            section: A patent section name."""
        ...
    
    def store_content(self, section: str, field: str, value: str) -> None:
        """Store the key value within a document section in the docling document.

        Args:
            section: A patent section name.
            field: A field name.
            value: A field value name.
        """
        ...
    
    def parse(self, patent_content: str) -> Optional[DoclingDocument]:
        ...
    


class PatentUsptoAppV1(PatentUspto):
    """Parser of patent documents from the US Patent Office (applications v1.x)

    The compatible format is:
    - Patent Application Full Text Data/XML Version 1.x (from March 2001 till December
      2004)
    """
    @override
    def __init__(self) -> None:
        """Build an instance of PatentUsptoAppV1 class."""
        ...
    
    @override
    def parse(self, patent_content: str) -> Optional[DoclingDocument]:
        ...
    
    class PatentHandler(xml.sax.handler.ContentHandler):
        """SAX ContentHandler for patent documents."""
        APP_DOC_ELEMENT: Final = ...
        @unique
        class Element(Enum):
            """Represents an element of interest in the patent application document."""
            DRAWINGS = ...
            ABSTRACT = ...
            TITLE = ...
            CLAIMS = ...
            CLAIM = ...
            CLAIM_TEXT = ...
            NUMBER = ...
            PARAGRAPH = ...
            HEADING = ...
            STYLE_SUPERSCRIPT = ...
            STYLE_SUBSCRIPT = ...
            TABLE = ...
            MATH = ...
            @override
            def __new__(cls, value: str, _) -> Self:
                ...
            
            @override
            def __init__(self, _, is_text: bool) -> None:
                ...
            
        
        
        @override
        def __init__(self) -> None:
            """Build an instance of the patent handler."""
            ...
        
        @override
        def startElement(self, tag, attributes):
            """Signal the start of an element.

            Args:
                tag: The element tag.
                attributes: The element attributes.
            """
            ...
        
        @override
        def skippedEntity(self, name):
            """Receive notification of a skipped entity.

            HTML entities will be skipped by the parser. This method will unescape them
            and add them to the text.

            Args:
                name: Entity name.
            """
            ...
        
        @override
        def endElement(self, tag):
            """Signal the end of an element.

            Args:
                tag: The element tag.
            """
            ...
        
        @override
        def characters(self, content):
            """Receive notification of character data.

            Args:
                content: Data reported by the handler.
            """
            ...
        
    
    


class XmlTable:
    """Provide a table parser for xml tables in USPTO patent documents.

    The OASIS Open XML Exchange Table Model can be downloaded from:
    http://oasis-open.org/specs/soextblx.dtd
    """
    class ColInfo(TypedDict):
        ncols: int
        colinfo: list[dict]
        ...
    
    
    class MinColInfoType(TypedDict):
        offset: list[int]
        colwidth: list[int]
        ...
    
    
    class ColInfoType(MinColInfoType):
        cell_range: list[int]
        cell_offst: list[int]
        ...
    
    
    def __init__(self, input: str) -> None:
        """Initialize the table parser with the xml content.

        Args:
            input: The xml content.
        """
        ...
    
    def parse(self) -> Optional[TableData]:
        """Parse the first table from an xml content.

        Returns:
            A docling table data.
        """
        ...
    


class HtmlEntity:
    """Provide utility functions to get the HTML entities of styled characters.

    This class has been developed from:
    https://unicode-table.com/en/html-entities/
    https://www.w3.org/TR/WD-math-970515/table03.html
    """
    def __init__(self) -> None:
        """Initialize this class by loading the HTML entity dictionaries."""
        ...
    
    def get_superscript(self, text: str) -> str:
        """Get a text in superscript as HTML entities.

        Args:
            text: The text to transform.

        Returns:
            The text in superscript as HTML entities.
        """
        ...
    
    def get_subscript(self, text: str) -> str:
        """Get a text in subscript as HTML entities.

        Args:
            The text to transform.

        Returns:
            The text in subscript as HTML entities.
        """
        ...
    
    def get_math_italic(self, text: str) -> str:
        """Get a text in italic as HTML entities.

        Args:
            The text to transform.

        Returns:
            The text in italics as HTML entities.
        """
        ...
    
    def get_greek_from_iso8879(self, text: str) -> str:
        """Get an HTML entity of a greek letter in ISO 8879.

        Args:
            The text to transform, as an ISO 8879 entity.

        Returns:
            The HTML entity representing a greek letter. If the input text is not
              supported, the original text is returned.
        """
        ...
    


