"""
This type stub file was generated by pyright.
"""

from enum import IntEnum
from functools import cached_property
from typing import Any, NamedTuple, Union
from . import Image, ImageFile, ImagePalette

TYPE_CHECKING = ...
if TYPE_CHECKING:
    ...
class LoadingStrategy(IntEnum):
    """.. versionadded:: 9.1.0"""
    RGB_AFTER_FIRST = ...
    RGB_AFTER_DIFFERENT_PALETTE_ONLY = ...
    RGB_ALWAYS = ...


LOADING_STRATEGY = ...
class GifImageFile(ImageFile.ImageFile):
    format = ...
    format_description = ...
    _close_exclusive_fp_after_loading = ...
    global_palette = ...
    def data(self) -> bytes | None:
        ...
    
    @property
    def n_frames(self) -> int:
        ...
    
    @cached_property
    def is_animated(self) -> bool:
        ...
    
    def seek(self, frame: int) -> None:
        ...
    
    def load_prepare(self) -> None:
        ...
    
    def load_end(self) -> None:
        ...
    
    def tell(self) -> int:
        ...
    


RAWMODE = ...
_Palette = Union[bytes, bytearray, list[int], ImagePalette.ImagePalette]
class _Frame(NamedTuple):
    im: Image.Image
    bbox: tuple[int, int, int, int] | None
    encoderinfo: dict[str, Any]
    ...


def get_interlace(im: Image.Image) -> int:
    ...

_FORCE_OPTIMIZE = ...
def getheader(im: Image.Image, palette: _Palette | None = ..., info: dict[str, Any] | None = ...) -> tuple[list[bytes], list[int] | None]:
    """
    Legacy Method to get Gif data from image.

    Warning:: May modify image data.

    :param im: Image object
    :param palette: bytes object containing the source palette, or ....
    :param info: encoderinfo
    :returns: tuple of(list of header items, optimized palette)

    """
    ...

def getdata(im: Image.Image, offset: tuple[int, int] = ..., **params: Any) -> list[bytes]:
    """
    Legacy Method

    Return a list of strings representing this image.
    The first string is a local image header, the rest contains
    encoded image data.

    To specify duration, add the time in milliseconds,
    e.g. ``getdata(im_frame, duration=1000)``

    :param im: Image object
    :param offset: Tuple of (x, y) pixels. Defaults to (0, 0)
    :param \\**params: e.g. duration or other encoder info parameters
    :returns: List of bytes containing GIF encoded frame data

    """
    class Collector(BytesIO):
        ...
    
    

