"""
This type stub file was generated by pyright.
"""

import os
from dataclasses import dataclass
from typing import Optional, Union
from ...utils import ComputeEnvironment, DistributedType, SageMakerDistributedType

hf_cache_home = ...
cache_dir = ...
default_json_config_file = ...
default_yaml_config_file = ...
if os.path.isfile(default_yaml_config_file) or not os.path.isfile(default_json_config_file):
    default_config_file = ...
else:
    default_config_file = ...
def load_config_from_file(config_file): # -> ClusterConfig | SageMakerConfig:
    ...

@dataclass
class BaseConfig:
    compute_environment: ComputeEnvironment
    distributed_type: Union[DistributedType, SageMakerDistributedType]
    mixed_precision: str
    use_cpu: bool
    debug: bool
    def to_dict(self): # -> dict[str, Any]:
        ...
    
    @staticmethod
    def process_config(config_dict):
        """
        Processes `config_dict` and sets default values for any missing keys
        """
        ...
    
    @classmethod
    def from_json_file(cls, json_file=...): # -> Self:
        ...
    
    def to_json_file(self, json_file): # -> None:
        ...
    
    @classmethod
    def from_yaml_file(cls, yaml_file=...): # -> Self:
        ...
    
    def to_yaml_file(self, yaml_file): # -> None:
        ...
    
    def __post_init__(self): # -> None:
        ...
    


@dataclass
class ClusterConfig(BaseConfig):
    num_processes: int = ...
    machine_rank: int = ...
    num_machines: int = ...
    gpu_ids: Optional[str] = ...
    main_process_ip: Optional[str] = ...
    main_process_port: Optional[int] = ...
    rdzv_backend: Optional[str] = ...
    same_network: Optional[bool] = ...
    main_training_function: str = ...
    enable_cpu_affinity: bool = ...
    fp8_config: Optional[dict] = ...
    deepspeed_config: Optional[dict] = ...
    fsdp_config: Optional[dict] = ...
    parallelism_config: Optional[dict] = ...
    megatron_lm_config: Optional[dict] = ...
    ipex_config: Optional[dict] = ...
    mpirun_config: Optional[dict] = ...
    downcast_bf16: bool = ...
    tpu_name: Optional[str] = ...
    tpu_zone: Optional[str] = ...
    tpu_use_cluster: bool = ...
    tpu_use_sudo: bool = ...
    command_file: Optional[str] = ...
    commands: list[str] = ...
    tpu_vm: list[str] = ...
    tpu_env: list[str] = ...
    dynamo_config: Optional[dict] = ...
    def __post_init__(self): # -> None:
        ...
    


@dataclass
class SageMakerConfig(BaseConfig):
    ec2_instance_type: str
    iam_role_name: str
    image_uri: Optional[str] = ...
    profile: Optional[str] = ...
    region: str = ...
    num_machines: int = ...
    gpu_ids: str = ...
    base_job_name: str = ...
    pytorch_version: str = ...
    transformers_version: str = ...
    py_version: str = ...
    sagemaker_inputs_file: Optional[str] = ...
    sagemaker_metrics_file: Optional[str] = ...
    additional_args: Optional[dict] = ...
    dynamo_config: Optional[dict] = ...
    enable_cpu_affinity: bool = ...


