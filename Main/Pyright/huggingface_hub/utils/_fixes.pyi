"""
This type stub file was generated by pyright.
"""

import contextlib
from pathlib import Path
from typing import Callable, Generator, Optional, Union
from filelock import BaseFileLock

logger = ...
yaml_dump: Callable[..., str] = ...
@contextlib.contextmanager
def SoftTemporaryDirectory(suffix: Optional[str] = ..., prefix: Optional[str] = ..., dir: Optional[Union[Path, str]] = ..., **kwargs) -> Generator[Path, None, None]:
    """
    Context manager to create a temporary directory and safely delete it.

    If tmp directory cannot be deleted normally, we set the WRITE permission and retry.
    If cleanup still fails, we give up but don't raise an exception. This is equivalent
    to  `tempfile.TemporaryDirectory(..., ignore_cleanup_errors=True)` introduced in
    Python 3.10.

    See https://www.scivision.dev/python-tempfile-permission-error-windows/.
    """
    ...

@contextlib.contextmanager
def WeakFileLock(lock_file: Union[str, Path], *, timeout: Optional[float] = ...) -> Generator[BaseFileLock, None, None]:
    """A filelock with some custom logic.

    This filelock is weaker than the default filelock in that:
    1. It won't raise an exception if release fails.
    2. It will default to a SoftFileLock if the filesystem does not support flock.

    An INFO log message is emitted every 10 seconds if the lock is not acquired immediately.
    If a timeout is provided, a `filelock.Timeout` exception is raised if the lock is not acquired within the timeout.
    """
    ...

